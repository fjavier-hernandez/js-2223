<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Comprueba Anagrama</title>
</head>

<body>
    <!-- Realiza un formulario que tenga dos campos de texto. Deberá validar antes de enviarse si uno de
    los campos es un anagrama del otro y enviarse solo si lo es. Se ignorarán mayúsculas, minúsculas y
    espacios. -->

    <!-- Si pongo action="ejemplo.php" method="get" me da error -->
    <form>
        <p>
            <label for="text1">Text1:</label>
            <input type="text" name="text1" id="text1"></br>
            <label for="text2">Text2:</label>
            <input type="text" name="text2" id="text2"></br>
            <input id="botonAnagrama" type="submit" value="Comprobar Anagrama"></br>
        </p>
    </form>

    <script>
        'use strict'

        function estadisticaLetras(frase) {
            let arrayControl = Array(26).fill(0);
            for (let i = 0; i < frase.length; i++) {
                let caracter = parseInt(frase.charCodeAt(i));

                if (caracter >= 65 && caracter <= 90) {
                    var nuevoCaracter = (caracter - 65);
                    arrayControl[nuevoCaracter] += 1;
                }
            }
            return arrayControl.join('');
        }

        function compruebaAnagrama() {
            alert("hola");
            let primerAnagramaControl = estadisticaLetras(document.getElementById("text1").value);
            let segundoAnagramaControl = estadisticaLetras(document.getElementById("text2").value);
            console.log(primerAnagramaControl);
            console.log(segundoAnagramaControl);
            
            if (primerAnagramaControl === segundoAnagramaControl) {
                alert('Son Anagramas');
            } else {
                alert('Son Anagramas');
            }
        }

        window.onload = function () {
            document.getElementById("botonAnagrama").addEventListener("submit", compruebaAnagrama);
        }

    </script>
</body>

</html>